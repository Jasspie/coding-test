{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lijas\\\\Documents\\\\GitHub\\\\coding-test\\\\client\\\\src\\\\context\\\\ImageContext.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useContext, useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ImageContext = /*#__PURE__*/React.createContext();\nexport const useImage = () => {\n  _s();\n\n  return useContext(ImageContext);\n};\n\n_s(useImage, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nexport const ImageProvider = _ref => {\n  _s2();\n\n  let {\n    children\n  } = _ref;\n  const [images, setImages] = useState([]);\n  const [index, setIndex] = useState(0);\n  const [active, setActive] = useState({\n    cat: false,\n    shark: false\n  });\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    const getImages = async () => {\n      setLoading(true);\n      var endpoint = getActive();\n\n      if (endpoint) {\n        const url = process.env.REACT_APP_BASE_URL || `http://localhost:5000/api/images/${endpoint}`;\n        const {\n          data\n        } = await axios.get(url);\n        await new Promise(resolve => setTimeout(resolve, 150));\n        if (images.length === 10) setIndex(index * 2);else setIndex(index / 2);\n        setImages(data);\n      } else {\n        setIndex(0);\n        setImages([]);\n      }\n\n      setLoading(false);\n    };\n\n    getImages();\n  }, [active]);\n\n  const updateImages = type => {\n    switch (type) {\n      case \"Cats\":\n        return setActive(prev => ({ ...prev,\n          cat: !active[\"cat\"]\n        }));\n\n      case \"Sharks\":\n        return setActive(prev => ({ ...prev,\n          shark: !active[\"shark\"]\n        }));\n\n      default:\n        return null;\n    }\n  };\n\n  const getActive = () => {\n    const cat = active[\"cat\"];\n    const shark = active[\"shark\"];\n    if (cat && shark) return \"all\";else if (cat && !shark) return \"cat\";else if (!cat && shark) return \"shark\";else return null;\n  };\n\n  const value = {\n    images,\n    index,\n    loading,\n    updateImages,\n    getActive\n  };\n  return /*#__PURE__*/_jsxDEV(ImageContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(ImageProvider, \"E9USxT7aUoOT30blUi4mCM+lB9I=\");\n\n_c = ImageProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"ImageProvider\");","map":{"version":3,"sources":["C:/Users/lijas/Documents/GitHub/coding-test/client/src/context/ImageContext.js"],"names":["React","useContext","useState","useEffect","axios","ImageContext","createContext","useImage","ImageProvider","children","images","setImages","index","setIndex","active","setActive","cat","shark","loading","setLoading","getImages","endpoint","getActive","url","process","env","REACT_APP_BASE_URL","data","get","Promise","resolve","setTimeout","length","updateImages","type","prev","value"],"mappings":"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","sourcesContent":["import React, { useContext, useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst ImageContext = React.createContext();\r\n\r\nexport const useImage = () => {\r\n  return useContext(ImageContext);\r\n};\r\n\r\nexport const ImageProvider = ({ children }) => {\r\n  const [images, setImages] = useState([]);\r\n  const [index, setIndex] = useState(0);\r\n  const [active, setActive] = useState({ cat: false, shark: false });\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const getImages = async () => {\r\n      setLoading(true);\r\n      var endpoint = getActive();\r\n      if (endpoint) {\r\n        const url =\r\n          process.env.REACT_APP_BASE_URL ||\r\n          `http://localhost:5000/api/images/${endpoint}`;\r\n        const { data } = await axios.get(url);\r\n        await new Promise((resolve) => setTimeout(resolve, 150));\r\n        if (images.length === 10) setIndex(index * 2);\r\n        else setIndex(index / 2);\r\n        setImages(data);\r\n      } else {\r\n        setIndex(0);\r\n        setImages([]);\r\n      }\r\n      setLoading(false);\r\n    };\r\n    getImages();\r\n  }, [active]);\r\n\r\n  const updateImages = (type) => {\r\n    switch (type) {\r\n      case \"Cats\":\r\n        return setActive((prev) => ({\r\n          ...prev,\r\n          cat: !active[\"cat\"],\r\n        }));\r\n      case \"Sharks\":\r\n        return setActive((prev) => ({\r\n          ...prev,\r\n          shark: !active[\"shark\"],\r\n        }));\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  const getActive = () => {\r\n    const cat = active[\"cat\"];\r\n    const shark = active[\"shark\"];\r\n    if (cat && shark) return \"all\";\r\n    else if (cat && !shark) return \"cat\";\r\n    else if (!cat && shark) return \"shark\";\r\n    else return null;\r\n  };\r\n\r\n  const value = {\r\n    images,\r\n    index,\r\n    loading,\r\n    updateImages,\r\n    getActive,\r\n  };\r\n\r\n  return (\r\n    <ImageContext.Provider value={value}>{children}</ImageContext.Provider>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}